/*! For license information please see 575.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkcerita_di_sekitarmu=self.webpackChunkcerita_di_sekitarmu||[]).push([[575],{575:(t,e,n)=>{n.r(e),n.d(e,{default:()=>y});var r=n(775);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(){var t=f(),e=t.m(o),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var a={throw:1,return:2,break:3,continue:3};function p(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,a[t],e)},delegateYield:function(t,a,o){return e.resultName=a,n(r.d,i(t),o)},finish:function(t){return n(r.f,t)}},n=function(t,n,a){r.p=e.prev,r.n=e.next;try{return t(n,a)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(o=function(){return{wrap:function(e,n,r,a){return t.w(p(e),n,r,a&&a.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new d(t,e)},AsyncIterator:l,async:function(t,e,n,a,o){return(r(e)?c:s)(p(t),e,n,a,o)},keys:u,values:i}})()}function i(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(a(t)+" is not iterable")}function u(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function s(t,e,n,r,a){var o=c(t,e,n,r,a);return o.next().then((function(t){return t.done?t.value:o.next()}))}function c(t,e,n,r,a){return new l(f().w(t,e,n,r),a||Promise)}function l(t,e){function n(r,a,o,i){try{var u=t[r](a),s=u.value;return s instanceof d?e.resolve(s.v).then((function(t){n("next",t,o,i)}),(function(t){n("throw",t,o,i)})):e.resolve(s).then((function(t){u.value=t,o(u)}),(function(t){return n("throw",t,o,i)}))}catch(t){i(t)}}var r;this.next||(p(l.prototype),p(l.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),p(this,"_invoke",(function(t,a,o){function i(){return new e((function(e,r){n(t,o,e,r)}))}return r=r?r.then(i,i):i()}),!0)}function f(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return p(c,"_invoke",function(n,r,a){var o,u,s,c=0,l=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,u=0,s=t,p.n=n,i}};function d(n,r){for(u=n,s=r,e=0;!f&&c&&!a&&e<l.length;e++){var a,o=l[e],d=p.p,m=o[2];n>3?(a=m===r)&&(s=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(u=0,p.v=r,p.n=o[1]):d<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,u=0))}if(a||n>1)return i;throw f=!0,r}return function(a,l,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,m),u=l,s=m;(e=u<2?t:s)||!f;){o||(u?u<3?(u>1&&(p.n=-1),d(u,s)):p.n=s:p.v=s);try{if(c=2,o){if(u||(a="next"),e=o[a]){if(!(e=e.call(o,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=t}else if((e=(f=p.n<0)?s:n.call(r,p))!==i)break}catch(e){o=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,a,o),!0),c}var i={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(p(e={},r,(function(){return this})),e),d=c.prototype=u.prototype=Object.create(l);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,p(t,a,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=c,p(d,"constructor",c),p(c,"constructor",s),s.displayName="GeneratorFunction",p(c,a,"GeneratorFunction"),p(d),p(d,a,"Generator"),p(d,r,(function(){return this})),p(d,"toString",(function(){return"[object Generator]"})),(f=function(){return{w:o,m}})()}function p(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}p=function(t,e,n,r){function o(e,n){p(t,e,(function(t){return this._invoke(e,n,t)}))}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},p(t,e,n,r)}function d(t,e){this.v=t,this.k=e}function m(t,e,n,r,a,o,i){try{var u=t[o](i),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,a)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){m(o,r,a,i,u,"next",t)}function u(t){m(o,r,a,i,u,"throw",t)}i(void 0)}))}}const y={render:function(){return v(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n      <section class="auth-page" aria-labelledby="register-title">\n        <h1 id="register-title" tabindex="0">Buat Akun Baru</h1>\n        <form id="registerForm" class="auth-form" aria-labelledby="register-title" autocomplete="off">\n          <div class="form-group">\n            <label for="register-name">Nama:</label>\n            <input \n              type="text" \n              id="register-name" \n              name="name" \n              required \n              aria-required="true"\n              placeholder="Masukkan nama lengkap Anda"\n              autocomplete="name"\n              aria-describedby="name-help"\n            >\n            <p id="name-help" class="form-help">Masukkan nama lengkap Anda</p>\n            <p id="name-error" class="error-message" aria-live="polite"></p>\n          </div>\n          \n          <div class="form-group">\n            <label for="register-email">Email:</label>\n            <input \n              type="email" \n              id="register-email" \n              name="email" \n              required \n              aria-required="true"\n              placeholder="Masukkan email Anda"\n              autocomplete="email"\n              aria-describedby="email-help"\n            >\n            <p id="email-help" class="form-help">Masukkan alamat email yang valid</p>\n            <p id="email-error" class="error-message" aria-live="polite"></p>\n          </div>\n          \n          <div class="form-group">\n            <label for="register-password">Kata Sandi:</label>\n            <input \n              type="password" \n              id="register-password" \n              name="password" \n              required \n              aria-required="true"\n              placeholder="Buat kata sandi (minimal 6 karakter)"\n              autocomplete="new-password"\n              aria-describedby="password-help"\n            >\n            <p id="password-help" class="form-help">Buat kata sandi yang kuat</p>\n            <p id="password-error" class="error-message" aria-live="polite"></p>\n          </div>\n          \n          <div class="form-group">\n            <label for="register-confirmPassword">Konfirmasi Kata Sandi:</label>\n            <input \n              type="password" \n              id="register-confirmPassword" \n              name="confirmPassword" \n              required \n              aria-required="true"\n              placeholder="Ulangi kata sandi Anda"\n              autocomplete="new-password"\n              aria-describedby="confirmPassword-help"\n            >\n            <p id="confirmPassword-help" class="form-help">Ketik ulang kata sandi Anda</p>\n            <p id="confirmPassword-error" class="error-message" aria-live="polite"></p>\n          </div>\n          \n          <button type="submit" class="submit-button">Daftar</button>\n          <p class="auth-link">\n            Sudah punya akun? <a href="#/login" class="link">Masuk di sini</a>\n          </p>\n        </form>\n        <div id="auth-message" class="info-message" aria-live="polite" style="display:none;"></div>\n      </section>\n    ');case 1:case"end":return t.stop()}}),t)})))()},afterRender:function(){var t=this;return v(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._setupFormValidation(),t._setupFormSubmission();case 2:case"end":return e.stop()}}),e)})))()},_setupFormValidation:function(){document.getElementById("registerForm");var t=document.getElementById("register-name"),e=document.getElementById("register-email"),n=document.getElementById("register-password"),r=document.getElementById("register-confirmPassword");t.addEventListener("blur",(function(){var e=t.value.trim(),n=document.getElementById("name-error");e?e.length<3?(n.textContent="Nama minimal 3 karakter",t.setAttribute("aria-invalid","true")):(n.textContent="",t.setAttribute("aria-invalid","false")):(n.textContent="Nama harus diisi",t.setAttribute("aria-invalid","true"))})),e.addEventListener("blur",(function(){var t=e.value.trim(),n=document.getElementById("email-error");t?!function(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}(t)?(n.textContent="Format email tidak valid",e.setAttribute("aria-invalid","true")):(n.textContent="",e.setAttribute("aria-invalid","false")):(n.textContent="Email harus diisi",e.setAttribute("aria-invalid","true"))})),n.addEventListener("blur",(function(){var t=n.value,e=document.getElementById("password-error");t?t.length<6?(e.textContent="Kata sandi minimal 6 karakter",n.setAttribute("aria-invalid","true")):(e.textContent="",n.setAttribute("aria-invalid","false")):(e.textContent="Kata sandi harus diisi",n.setAttribute("aria-invalid","true"))})),r.addEventListener("blur",(function(){var t=n.value,e=r.value,a=document.getElementById("confirmPassword-error");e?t!==e?(a.textContent="Kata sandi tidak cocok",r.setAttribute("aria-invalid","true")):(a.textContent="",r.setAttribute("aria-invalid","false")):(a.textContent="Konfirmasi kata sandi harus diisi",r.setAttribute("aria-invalid","true"))})),setTimeout((function(){t.value="",e.value="",n.value="",r.value=""}),100)},_setupFormSubmission:function(){var t=document.getElementById("registerForm"),e=document.getElementById("auth-message");t.addEventListener("submit",function(){var n=v(o().mark((function n(a){var i,u,s,c,l;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),i=document.getElementById("register-name").value.trim(),u=document.getElementById("register-email").value.trim(),s=document.getElementById("register-password").value,i&&u&&s){n.next=9;break}return e.textContent="Harap isi semua field yang diperlukan",e.style.display="block",e.style.backgroundColor="#fee",n.abrupt("return");case 9:return(c=t.querySelector(".submit-button")).disabled=!0,c.textContent="Memproses...",e.textContent="Mendaftarkan akun...",e.style.display="block",e.style.backgroundColor="#e3f2fd",n.prev=15,n.next=18,(0,r.DY)({name:i,email:u,password:s});case 18:if(!(l=n.sent).error){n.next=21;break}throw new Error(l.message);case 21:e.textContent="Pendaftaran berhasil! Silakan masuk.",e.style.backgroundColor="#e8f5e8",setTimeout((function(){window.location.hash="#/login"}),2e3),n.next=32;break;case 26:n.prev=26,n.t0=n.catch(15),e.textContent="Pendaftaran gagal: ".concat(n.t0.message),e.style.backgroundColor="#fee",c.disabled=!1,c.textContent="Daftar";case 32:case"end":return n.stop()}}),n,null,[[15,26]])})));return function(t){return n.apply(this,arguments)}}())}}},775:(t,e,n)=>{n.d(e,{DY:()=>S,Lx:()=>w,ZO:()=>h,y_:()=>g});var r=n(612);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(){var t=f(),e=t.m(o),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var a={throw:1,return:2,break:3,continue:3};function p(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,a[t],e)},delegateYield:function(t,a,o){return e.resultName=a,n(r.d,i(t),o)},finish:function(t){return n(r.f,t)}},n=function(t,n,a){r.p=e.prev,r.n=e.next;try{return t(n,a)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(o=function(){return{wrap:function(e,n,r,a){return t.w(p(e),n,r,a&&a.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new d(t,e)},AsyncIterator:l,async:function(t,e,n,a,o){return(r(e)?c:s)(p(t),e,n,a,o)},keys:u,values:i}})()}function i(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(a(t)+" is not iterable")}function u(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function s(t,e,n,r,a){var o=c(t,e,n,r,a);return o.next().then((function(t){return t.done?t.value:o.next()}))}function c(t,e,n,r,a){return new l(f().w(t,e,n,r),a||Promise)}function l(t,e){function n(r,a,o,i){try{var u=t[r](a),s=u.value;return s instanceof d?e.resolve(s.v).then((function(t){n("next",t,o,i)}),(function(t){n("throw",t,o,i)})):e.resolve(s).then((function(t){u.value=t,o(u)}),(function(t){return n("throw",t,o,i)}))}catch(t){i(t)}}var r;this.next||(p(l.prototype),p(l.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),p(this,"_invoke",(function(t,a,o){function i(){return new e((function(e,r){n(t,o,e,r)}))}return r=r?r.then(i,i):i()}),!0)}function f(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return p(c,"_invoke",function(n,r,a){var o,u,s,c=0,l=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,u=0,s=t,p.n=n,i}};function d(n,r){for(u=n,s=r,e=0;!f&&c&&!a&&e<l.length;e++){var a,o=l[e],d=p.p,m=o[2];n>3?(a=m===r)&&(s=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=d&&((a=n<2&&d<o[1])?(u=0,p.v=r,p.n=o[1]):d<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,u=0))}if(a||n>1)return i;throw f=!0,r}return function(a,l,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,m),u=l,s=m;(e=u<2?t:s)||!f;){o||(u?u<3?(u>1&&(p.n=-1),d(u,s)):p.n=s:p.v=s);try{if(c=2,o){if(u||(a="next"),e=o[a]){if(!(e=e.call(o,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=t}else if((e=(f=p.n<0)?s:n.call(r,p))!==i)break}catch(e){o=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,a,o),!0),c}var i={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(p(e={},r,(function(){return this})),e),d=c.prototype=u.prototype=Object.create(l);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,p(t,a,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=c,p(d,"constructor",c),p(c,"constructor",s),s.displayName="GeneratorFunction",p(c,a,"GeneratorFunction"),p(d),p(d,a,"Generator"),p(d,r,(function(){return this})),p(d,"toString",(function(){return"[object Generator]"})),(f=function(){return{w:o,m}})()}function p(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}p=function(t,e,n,r){function o(e,n){p(t,e,(function(t){return this._invoke(e,n,t)}))}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},p(t,e,n,r)}function d(t,e){this.v=t,this.k=e}function m(t,e,n,r,a,o,i){try{var u=t[o](i),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,a)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){m(o,r,a,i,u,"next",t)}function u(t){m(o,r,a,i,u,"throw",t)}i(void 0)}))}}var y="https://story-api.dicoding.dev/v1";function h(){return b.apply(this,arguments)}function b(){return(b=v(o().mark((function t(){var e,n,a,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.y.getToken()){t.next=4;break}return t.abrupt("return",[]);case 4:return t.prev=4,t.next=7,fetch("".concat(y,"/stories"),{headers:{Authorization:"Bearer ".concat(e)}});case 7:if((n=t.sent).ok){t.next=10;break}throw new Error("HTTP error! status: ".concat(n.status));case 10:return t.next=12,n.json();case 12:if(!(a=t.sent).error&&a.listStory){t.next=17;break}return t.abrupt("return",[]);case 17:return i=a.listStory.map((function(t){return{id:t.id,name:t.name,description:t.description,photoUrl:t.photoUrl,lat:t.lat,lon:t.lon,createdAt:t.createdAt}})),t.abrupt("return",i);case 21:return t.prev=21,t.t0=t.catch(4),t.abrupt("return",[]);case 25:case"end":return t.stop()}}),t,null,[[4,21]])})))).apply(this,arguments)}function g(t){return k.apply(this,arguments)}function k(){return(k=v(o().mark((function t(e){var n,a,i,u,s,c,l,f;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.description,a=e.photo,i=e.lat,u=e.lon,s=r.y.getToken()){t.next=4;break}return t.abrupt("return",{error:!0,message:"Anda harus login untuk menambah cerita."});case 4:return(c=new FormData).append("description",n),c.append("photo",a),i&&c.append("lat",i),u&&c.append("lon",u),t.prev=9,t.next=13,fetch("".concat(y,"/stories"),{method:"POST",body:c,headers:{Authorization:"Bearer ".concat(s)}});case 13:return l=t.sent,t.next=17,l.json();case 17:if(f=t.sent,l.ok&&!f.error){t.next=21;break}return t.abrupt("return",{error:!0,message:f.message||"Error ".concat(l.status,": ").concat(l.statusText)});case 21:return t.abrupt("return",f);case 25:if(t.prev=25,t.t0=t.catch(9),"TypeError"!==t.t0.name||!t.t0.message.includes("Failed to fetch")){t.next=30;break}return t.abrupt("return",{error:!0,message:"Gagal terhubung ke server. Periksa koneksi internet Anda."});case 30:return t.abrupt("return",{error:!0,message:"Gagal mengirim data: ".concat(t.t0.message)});case 31:case"end":return t.stop()}}),t,null,[[9,25]])})))).apply(this,arguments)}function w(t){return x.apply(this,arguments)}function x(){return(x=v(o().mark((function t(e){var n,r,a,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.email,r=e.password,t.prev=1,t.next=4,fetch("".concat(y,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:r})});case 4:return a=t.sent,t.next=7,a.json();case 7:if(i=t.sent,a.ok){t.next=10;break}return t.abrupt("return",{error:!0,message:i.message||"Login gagal"});case 10:return t.abrupt("return",{error:!1,data:i});case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:"Terjadi kesalahan jaringan"});case 16:case"end":return t.stop()}}),t,null,[[1,13]])})))).apply(this,arguments)}function S(t){return O.apply(this,arguments)}function O(){return(O=v(o().mark((function t(e){var n,r,a,i,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.name,r=e.email,a=e.password,t.prev=1,t.next=4,fetch("".concat(y,"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:r,password:a})});case 4:return i=t.sent,t.next=7,i.json();case 7:if(u=t.sent,i.ok){t.next=10;break}return t.abrupt("return",{error:!0,message:u.message||"Pendaftaran gagal"});case 10:return t.abrupt("return",{error:!1,data:u});case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:"Terjadi kesalahan jaringan"});case 16:case"end":return t.stop()}}),t,null,[[1,13]])})))).apply(this,arguments)}}}]);