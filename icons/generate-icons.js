const fs=require("fs"),path=require("path"),iconsDir=path.join(__dirname,"src","public","icons"),screenshotsDir=path.join(__dirname,"src","public","screenshots");fs.existsSync(iconsDir)||fs.mkdirSync(iconsDir,{recursive:!0}),fs.existsSync(screenshotsDir)||fs.mkdirSync(screenshotsDir,{recursive:!0});const iconSizes=[72,96,128,144,152,192,384,512],possibleSources=[path.join(__dirname,"src","public","favicon.png"),path.join(__dirname,"src","public","images","logo.png"),path.join(__dirname,"src","public","images","mark.png")];let sourcePath=null;for(const i of possibleSources)if(fs.existsSync(i)){sourcePath=i;break}function copyIcons(i){try{iconSizes.forEach((e=>{const t=path.join(iconsDir,`icon-${e}x${e}.png`);fs.copyFileSync(i,t)}));const e=path.join(__dirname,"src","public","favicon.png");fs.existsSync(e)||fs.copyFileSync(i,e)}catch(i){createSvgIcons()}}function createSvgIcons(){const i=(i,e="#1976d2")=>`\n    <svg width="${i}" height="${i}" xmlns="http://www.w3.org/2000/svg">\n      <rect width="100%" height="100%" fill="${e}"/>\n      <circle cx="${i/2}" cy="${i/2}" r="${i/3}" fill="#ffffff"/>\n      <text x="${i/2}" y="${i/2}" font-family="Arial" font-size="${i/4}" \n            fill="${e}" text-anchor="middle" dy=".3em">ðŸ“–</text>\n    </svg>\n  `;try{iconSizes.forEach((e=>{const t=path.join(iconsDir,`icon-${e}x${e}.png`),n=i(e);fs.writeFileSync(t.replace(".png",".svg"),n)}));const e=i(32);fs.writeFileSync(path.join(__dirname,"src","public","favicon.svg"),e)}catch(i){}}function createScreenshotPlaceholders(){try{fs.writeFileSync(path.join(screenshotsDir,"mobile-home.svg"),'\n    <svg width="375" height="667" xmlns="http://www.w3.org/2000/svg">\n      <rect width="100%" height="100%" fill="#f5f5f5"/>\n      <rect x="20" y="80" width="335" height="500" fill="#ffffff" rx="8" stroke="#ddd" stroke-width="1"/>\n      <text x="187.5" y="40" font-family="Arial" font-size="16" font-weight="bold"\n            fill="#1976d2" text-anchor="middle">Cerita di Sekitarmu</text>\n      <text x="187.5" y="320" font-family="Arial" font-size="14" \n            fill="#999" text-anchor="middle">Mobile View</text>\n      <circle cx="187.5" cy="600" r="4" fill="#1976d2"/>\n    </svg>\n  '),fs.writeFileSync(path.join(screenshotsDir,"desktop-home.svg"),'\n    <svg width="1280" height="720" xmlns="http://www.w3.org/2000/svg">\n      <rect width="100%" height="100%" fill="#f5f5f5"/>\n      <rect x="40" y="40" width="1200" height="640" fill="#ffffff" rx="8" stroke="#ddd" stroke-width="1"/>\n      <text x="640" y="30" font-family="Arial" font-size="18" font-weight="bold"\n            fill="#1976d2" text-anchor="middle">Cerita di Sekitarmu - Desktop</text>\n      <text x="640" y="360" font-family="Arial" font-size="16" \n            fill="#999" text-anchor="middle">Desktop View</text>\n    </svg>\n  '),fs.copyFileSync(path.join(screenshotsDir,"mobile-home.svg"),path.join(screenshotsDir,"mobile-home.png")),fs.copyFileSync(path.join(screenshotsDir,"desktop-home.svg"),path.join(screenshotsDir,"desktop-home.png"))}catch(i){}}sourcePath?copyIcons(sourcePath):createSvgIcons(),createScreenshotPlaceholders();