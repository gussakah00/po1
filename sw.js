const CACHE_NAME="cerita-di-sekitarmu-v12",STATIC_ASSETS=["/po1/","/po1/index.html","/po1/app.css","/po1/app.bundle.js","/po1/vendors.bundle.js","/po1/app.webmanifest","/po1/favicon.png","/po1/icons/icon-72x72.png","/po1/icons/icon-96x96.png","/po1/icons/icon-128x128.png","/po1/icons/icon-144x144.png","/po1/icons/icon-152x152.png","/po1/icons/icon-192x192.png","/po1/icons/icon-384x384.png","/po1/icons/icon-512x512.png","/po1/images/logo.png","/po1/images/mark.png"];self.addEventListener("install",(e=>{e.waitUntil(self.skipWaiting()),e.waitUntil(caches.open(CACHE_NAME).then((e=>e.addAll(STATIC_ASSETS).catch((e=>{})))))})),self.addEventListener("activate",(e=>{e.waitUntil(caches.keys().then((e=>Promise.all(e.map((e=>{if(e!==CACHE_NAME)return caches.delete(e)}))))).then((()=>self.clients.claim())))})),self.addEventListener("fetch",(e=>{if("GET"!==e.request.method)return;const n=new URL(e.request.url);n.origin.startsWith(self.location.origin)&&(n.pathname.includes("/api/")||n.href.includes("story-api.dicoding.dev")||("navigate"!==e.request.mode?e.respondWith(caches.match(e.request).then((n=>n||fetch(e.request).then((n=>{if(200===n.status){const i=n.clone();caches.open(CACHE_NAME).then((n=>n.put(e.request,i)))}return n})).catch((()=>"image"===e.request.destination?caches.match("/po1/images/mark.png"):new Response("Offline",{status:408})))))):e.respondWith(caches.match("/po1/index.html").then((n=>n||fetch(e.request))))))})),self.addEventListener("push",(e=>{e.waitUntil(self.registration.showNotification("Cerita di Sekitarmu",{body:"Ada cerita baru di sekitarmu!",icon:"/po1/icons/icon-192x192.png",badge:"/po1/icons/icon-72x72.png"}))})),self.addEventListener("notificationclick",(e=>{e.notification.close(),e.waitUntil(clients.openWindow("/po1/"))}));